import{r as e,u as a,a as l,w as s,o as r,c as o,b as u,d as t,e as d,f as p,g as n,h as i,E as m,i as f,j as c,l as _,p as g,k as v}from"../js/index.59ed1cba.js";import{E as w,a as x}from"./el-col-6d6abec9.js";import{E as y}from"./el-checkbox-ccbaff31.js";import{E as V,a as b}from"./el-form-item-685137e5.js";import{E as k}from"./el-link-a0116cbc.js";import{_ as h,E as j}from"./_plugin-vue_export-helper-e0fdcb00.js";import{E}from"./el-input-ba32eb66.js";/* empty css                   */import"./isEqual-91ba2c0b.js";import"./_baseClone-7610e4dc.js";const C=e=>(g("data-v-7f6a8c02"),e=e(),v(),e),U=C((()=>n("h1",null,"注册",-1))),q=C((()=>n("h1",null,"登录",-1))),z={class:"flex"},S=h({__name:"LoginPage",setup(g){const v=e(!1),h=e(),C=e({username:"",password:"",repassword:""}),S={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10位 的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(e,a,l)=>{a!==C.value.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]},$=async()=>{await h.value.validate(),await i(C.value),m.success("注册成功"),v.value=!1},I=a(),L=l(),P=async()=>{await h.value.validate();const e=await f(C.value);I.setToken(e.data.token),m.success("登录成功"),L.push("/")};return s(v,(()=>{C.value={username:"",password:"",repassword:""}})),(e,a)=>{const l=x,s=V,i=E,m=j,f=k,g=b,I=y,L=w;return r(),o(L,{class:"login-page"},{default:u((()=>[t(l,{span:12,class:"bg"}),t(l,{span:6,offset:3,class:"form"},{default:u((()=>[v.value?(r(),o(g,{key:0,model:C.value,rules:S,ref_key:"form",ref:h,size:"large",autocomplete:"off"},{default:u((()=>[t(s,null,{default:u((()=>[U])),_:1}),t(s,{prop:"username"},{default:u((()=>[t(i,{modelValue:C.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value.username=e),"prefix-icon":d(c),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])])),_:1}),t(s,{prop:"password"},{default:u((()=>[t(i,{modelValue:C.value.password,"onUpdate:modelValue":a[1]||(a[1]=e=>C.value.password=e),"prefix-icon":d(_),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])])),_:1}),t(s,{prop:"repassword"},{default:u((()=>[t(i,{modelValue:C.value.repassword,"onUpdate:modelValue":a[2]||(a[2]=e=>C.value.repassword=e),"prefix-icon":d(_),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])])),_:1}),t(s,null,{default:u((()=>[t(m,{onClick:$,class:"button",type:"primary","auto-insert-space":""},{default:u((()=>[p(" 注册 ")])),_:1})])),_:1}),t(s,{class:"flex"},{default:u((()=>[t(f,{type:"info",underline:!1,onClick:a[3]||(a[3]=e=>v.value=!1)},{default:u((()=>[p(" ← 返回 ")])),_:1})])),_:1})])),_:1},8,["model"])):(r(),o(g,{key:1,model:C.value,rules:S,ref_key:"form",ref:h,size:"large",autocomplete:"off"},{default:u((()=>[t(s,null,{default:u((()=>[q])),_:1}),t(s,{prop:"username"},{default:u((()=>[t(i,{modelValue:C.value.username,"onUpdate:modelValue":a[4]||(a[4]=e=>C.value.username=e),"prefix-icon":d(c),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])])),_:1}),t(s,{prop:"password"},{default:u((()=>[t(i,{modelValue:C.value.password,"onUpdate:modelValue":a[5]||(a[5]=e=>C.value.password=e),name:"password","prefix-icon":d(_),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])])),_:1}),t(s,{class:"flex"},{default:u((()=>[n("div",z,[t(I,null,{default:u((()=>[p("记住我")])),_:1}),t(f,{type:"primary",underline:!1},{default:u((()=>[p("忘记密码？")])),_:1})])])),_:1}),t(s,null,{default:u((()=>[t(m,{onClick:P,class:"button",type:"primary","auto-insert-space":""},{default:u((()=>[p("登录")])),_:1})])),_:1}),t(s,{class:"flex"},{default:u((()=>[t(f,{type:"info",underline:!1,onClick:a[6]||(a[6]=e=>v.value=!0)},{default:u((()=>[p(" 注册 → ")])),_:1})])),_:1})])),_:1},8,["model"]))])),_:1})])),_:1})}}},[["__scopeId","data-v-7f6a8c02"]]);export{S as default};
