import{P as a}from"./PageContainer-57fdfbc0.js";import{u as e,r as s,o as r,c as l,b as t,d as o,z as i,e as u,f as n,bN as c,E as p,C as d,aP as m,bO as f,p as _,k as v,g}from"../js/index.59ed1cba.js";import{_ as j,E as y}from"./_plugin-vue_export-helper-e0fdcb00.js";import{E as k}from"./el-progress-2e771a93.js";/* empty css                *//* empty css                   */import"./_baseClone-7610e4dc.js";import"./isEqual-91ba2c0b.js";const b=["src"],w=(a=>(_("data-v-8e1e1e91"),a=a(),v(),a))((()=>g("br",null,null,-1))),C=j({__name:"UserAvatar",setup(_){const v=e(),g=s(v.user.user_pic),j=s(),C=a=>{const e=new FileReader;e.readAsDataURL(a.raw),e.onload=()=>{g.value=e.result}},h=async()=>{await c(g.value),await v.getUser(),p.success("头像更新成功")};return(e,s)=>{const c=d,p=k,_=y,v=a;return r(),l(v,{title:"更换头像"},{default:t((()=>[o(p,{ref_key:"uploadRef",ref:j,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":C},{default:t((()=>[g.value?(r(),i("img",{key:0,src:g.value,class:"avatar"},null,8,b)):(r(),l(c,{key:1,class:"avatar-uploader-icon"},{default:t((()=>[o(u(m))])),_:1}))])),_:1},512),w,o(_,{onClick:s[0]||(s[0]=a=>j.value.$el.querySelector("input").click()),type:"primary",icon:u(m),size:"large"},{default:t((()=>[n("选择图片")])),_:1},8,["icon"]),o(_,{onClick:h,type:"success",icon:u(f),size:"large"},{default:t((()=>[n("上传头像")])),_:1},8,["icon"])])),_:1})}}},[["__scopeId","data-v-8e1e1e91"]]);export{C as default};
