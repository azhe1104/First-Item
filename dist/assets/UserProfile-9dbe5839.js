import{r as e,u as a,o as l,c as r,b as m,d as s,f as u,b_ as t,E as i}from"../js/index.59ed1cba.js";import{E as o,a as n}from"./el-form-item-685137e5.js";import{E as d}from"./_plugin-vue_export-helper-e0fdcb00.js";import{E as p}from"./el-input-ba32eb66.js";import{P as f}from"./PageContainer-57fdfbc0.js";import"./_baseClone-7610e4dc.js";const c={__name:"UserProfile",setup(c){const g=e(),{user:{email:_,id:b,nickname:v,username:V},getUser:k}=a(),j=e({id:b,username:V,nickname:v,email:_}),y={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在 2 到 10 个非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]},U=async()=>{await g.value.validate(),await t(j.value),await k(),i.success("修改成功")};return(e,a)=>{const t=p,i=o,c=d,_=n;return l(),r(f,{title:"基本资料"},{default:m((()=>[s(_,{model:j.value,rules:y,ref_key:"formRef",ref:g,"label-width":"100px",class:"form-demo"},{default:m((()=>[s(i,{label:"登录名称"},{default:m((()=>[s(t,{modelValue:j.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value.username=e),disabled:""},null,8,["modelValue"])])),_:1}),s(i,{label:"用户昵称",prop:"nickname"},{default:m((()=>[s(t,{modelValue:j.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value.nickname=e)},null,8,["modelValue"])])),_:1}),s(i,{label:"用户邮箱",prop:"email"},{default:m((()=>[s(t,{modelValue:j.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value.email=e)},null,8,["modelValue"])])),_:1}),s(i,null,{default:m((()=>[s(c,{type:"primary",onClick:U},{default:m((()=>[u("提交修改")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}}};export{c as default};
